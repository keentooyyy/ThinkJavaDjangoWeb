<!-- Current Levels Table -->
<div class="col-6">
    <div class="card radius-10">
        <div class="card-body p-5">
            <h6 class="card-title text-uppercase">Current Levels</h6>
            <hr>
            <table class="table mb-0 table-hover text-center">
                <thead>
                <tr>
                    <th scope="col">Level Name</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for level in levels %}
                    <tr id="level_{{ level.id }}">
                        <td>{{ level.name }}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="deleteLevel({{ level.id }})">Delete</button>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Current Achievements Table -->
<div class="col-6">
    <div class="card radius-10">
        <div class="card-body p-5">
            <h6 class="card-title text-uppercase">Current Achievements</h6>
            <hr>
            <table class="table mb-0 table-hover text-center">
                <thead>
                <tr>
                    <th scope="col">Achievement Code</th>
                    <th scope="col">Title</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for achievement in achievements %}
                    <tr id="achievement_{{ achievement.id }}">
                        <td>{{ achievement.code }}</td>
                        <td>{{ achievement.title }}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="deleteAchievement({{ achievement.id }})">Delete</button>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>





{% block script %}

    <script>
        function deleteLevel(level_id) {
            if (confirm('Are you sure you want to delete this level?')) {
                $.ajax({
                    url: '/delete_level/' + level_id + '/',  // Delete level URL
                    type: 'POST',
                    data: {
                        'csrfmiddlewaretoken': '{{ csrf_token }}',  // CSRF token
                    },
                    success: function (response) {
                        if (response.success) {
                            $('#level_' + level_id).remove();  // Remove the row from the table
                            location.reload()
                        } else {
                            alert('There was an error deleting the level.');
                        }
                    },
                    error: function (xhr, status, error) {
                        alert('There was an error deleting the level.');
                    }
                });
            }
        }

        function deleteAchievement(achievement_id) {
            if (confirm('Are you sure you want to delete this achievement?')) {
                $.ajax({
                    url: '/delete_achievement/' + achievement_id + '/',  // Delete achievement URL
                    type: 'POST',
                    data: {
                        'csrfmiddlewaretoken': '{{ csrf_token }}',  // CSRF token
                    },
                    success: function (response) {
                        if (response.success) {
                            $('#achievement_' + achievement_id).remove();  // Remove the row from the table
                            location.reload()
                        } else {
                            alert('There was an error deleting the achievement.');
                        }
                    },
                    error: function (xhr, status, error) {
                        alert('There was an error deleting the achievement.');
                    }
                });
            }
        }

    </script>



{% endblock %}
